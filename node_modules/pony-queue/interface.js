module.exports = function(queue){
    
    /*
        Keeps all the queueed functions
        
        @var array stack
    */
    this.stack = [];
    
    /*
        Adds a function to the queue
        
        @param callable action
    */
    this.add = function(action){
        
        this.stack.push(action);
    };
    
    /*
        Starts the execution of the queue based on
        the parameters provided.
        
        @param boolean async
        @param callable callback
    */
    this.start = function(async, callback){
        
        queue.events.on('ready', callback);
        
        if( typeof async == 'undefined' || async === false){
            queue.startSync(this.stack);
        }else if( async === true){
            queue.startAsync(this.stack);
        }
        

    };
    
};